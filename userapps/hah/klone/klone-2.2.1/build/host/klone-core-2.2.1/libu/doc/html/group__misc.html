<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LibU: Miscellaneous</title>
<link href="kl.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a></div>
<h1>Miscellaneous</h1><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga0" doxytag="misc::u_isblank" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga0">u_isblank</a> (int c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns <code>0</code> if <code>c</code> is neither a space or a tab, not-zero otherwise. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga1" doxytag="misc::u_trim" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga1">u_trim</a> (char *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes leading and trailing blanks (spaces and tabs) from <code>s</code>. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga2" doxytag="misc::u_isblank_str" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga2">u_isblank_str</a> (const char *ln)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns <code>1</code> if <code>ln</code> is a blank string i.e. a string formed by ONLY spaces and/or tabs characters. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga3" doxytag="misc::u_isnl" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga3">u_isnl</a> (int c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns <code>0</code> if <code>c</code> is neither a CR (\r) or a LF (\n), not-zero otherwise. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga4" doxytag="misc::u_strndup" ></a>
char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga4">u_strndup</a> (const char *s, size_t len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dups the first <code>len</code> chars of <code>s</code>. Returns the dupped zero terminated string or <code>NULL</code> on error. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga5" doxytag="misc::u_strdup" ></a>
char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga5">u_strdup</a> (const char *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dups the supplied string <code>s</code>. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga6" doxytag="misc::u_savepid" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga6">u_savepid</a> (const char *pf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Save the PID of the calling process to a file named <code>pf</code> (that should be a fully qualified path). Returns <code>0</code> on success, not-zero on error. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga7" doxytag="misc::u_sstrncpy" ></a>
char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga7">u_sstrncpy</a> (char *dst, const char *src, size_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Safe string copy, see also the U_SSTRNCPY define Safe string copy which null-terminates the destination string <em>dst</em> before copying the source string <em>src</em> for no more than <em>size</em> bytes. Returns a pointer to the destination string <em>dst</em>. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga8" doxytag="misc::u_memdup" ></a>
void *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga8">u_memdup</a> (const void *src, size_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dups the memory block <code>src</code> of size <code>size</code>. Returns the pointer of the dup'd block on success, <code>NULL</code> on error. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga9">u_strtok</a> (const char *s, const char *delim, char ***ptv, size_t *pnelems)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Break a string into pieces separated by a given set of characters.  <a href="#ga9"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga10">u_strtok_cleanup</a> (char **tv, size_t nelems)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cleanup the strings vector created by u_strtok.  <a href="#ga10"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga11">u_tokenize</a> (char *wlist, const char *delim, char **tokv, size_t tokv_sz)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">tokenize the supplied <code>wlist</code> string (DEPRECATED: use u_strtok)  <a href="#ga11"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga12">u_snprintf</a> (char *str, size_t size, const char *fmt,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">snprintf-like function that returns 0 on success and ~0 on error  <a href="#ga12"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga13">u_path_snprintf</a> (char *buf, size_t sz, char sep, const char *fmt,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">snprintf-like function that handle path separator issues  <a href="#ga13"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga15" doxytag="misc::u_data_is_bin" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga15">u_data_is_bin</a> (char *data, size_t sz)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return <code>1</code> if the supplied buffer <code>data</code> has non-ascii bytes. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga17">u_load_file</a> (const char *path, size_t sz_max, char **pbuf, size_t *psz)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load file into memory from the supplied FS entry.  <a href="#ga17"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga18">u_io</a> (iof_t f, int sd, void *buf, size_t l, ssize_t *n, int *eof)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Top level I/O routine.  <a href="#ga18"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga19">u_sleep</a> (unsigned int secs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sleep(3) wrapper that handles EINTR  <a href="#ga19"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>ssize_t&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga20">u_read</a> (int fd, void *buf, size_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">read(2) wrapper that handles EINTR  <a href="#ga20"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>ssize_t&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga21">u_write</a> (int fd, void *buf, size_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write(2) wrapper that handle EINTR  <a href="#ga21"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga22" doxytag="misc::u_atoi" ></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__misc.html#ga22">u_atoi</a> (const char *nptr, int *pi)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">try to convert the string <code>nptr</code> into the integer at <code>pi</code> <br><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga18" doxytag="srcs/toolbox/misc.c::u_io" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_io </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iof_t&nbsp;</td>
          <td class="mdname" nowrap> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>sd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>l</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ssize_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>eof</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Try to read/write - atomically - a chunk of <code>l</code> bytes from/to the object referenced by the descriptor <code>sd</code>. The data chunk is written to/read from the buffer starting at <code>buf</code>. The I/O driver function <code>f</code> is used to carry out the job, its interface and behaviour must conform to those of <code>POSIX</code>.1 <code>read()</code> or <code>write()</code>. If <code>n</code> is not <code>NULL</code>, it will store the number of bytes actually read/written: this information is significant only when u_io has failed. If <code>eof</code> is not <code>NULL</code>, it will be set to <code>1</code> on an end-of-file condition.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>f</em>&nbsp;</td><td>the I/O function, i.e. <code>read(2)</code> or <code>write(2)</code> </td></tr>
    <tr><td valign=top><em>sd</em>&nbsp;</td><td>the file descriptor on which the I/O operation is performed </td></tr>
    <tr><td valign=top><em>buf</em>&nbsp;</td><td>the data chunk to be read or written </td></tr>
    <tr><td valign=top><em>l</em>&nbsp;</td><td>the length in bytes of <code>buf</code> </td></tr>
    <tr><td valign=top><em>n</em>&nbsp;</td><td>the number of bytes read/written as a value-result arg </td></tr>
    <tr><td valign=top><em>eof</em>&nbsp;</td><td>true if end-of-file condition</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A <code>~0</code> is returned if an error other than <code>EINTR</code> has occurred, or if the requested amount of data could not be entirely read/written. A <code>0</code> is returned on success. </dd></dl>

<p>
Definition at line <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00466">466</a> of file <a class="el" href="srcs_2toolbox_2misc_8c-source.html">srcs/toolbox/misc.c</a>.
<p>
Referenced by <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00541">u_read()</a>, and <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00566">u_write()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga17" doxytag="srcs/toolbox/misc.c::u_load_file" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_load_file </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>sz_max</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>pbuf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>psz</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>the path name of the file </td></tr>
    <tr><td valign=top><em>sz_max</em>&nbsp;</td><td>if &gt;0 impose this size limit (otherwise unlimited) </td></tr>
    <tr><td valign=top><em>pbuf</em>&nbsp;</td><td>the pointer to the memory location holding the file's contents as a value-result argument </td></tr>
    <tr><td valign=top><em>psz</em>&nbsp;</td><td>size of the loaded file as a v-r argument</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, <code>~0</code> on error </dd></dl>

<p>
Definition at line <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00413">413</a> of file <a class="el" href="srcs_2toolbox_2misc_8c-source.html">srcs/toolbox/misc.c</a>.
<p>
References <a class="el" href="memory_8c-source.html#l00061">u_zalloc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga13" doxytag="srcs/toolbox/misc.c::u_path_snprintf" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_path_snprintf </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>sz</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char&nbsp;</td>
          <td class="mdname" nowrap> <em>sep</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>...&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calls snprintf with the provided arguments and remove consecutive path separators from the resulting string.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>buf</em>&nbsp;</td><td>destination buffer </td></tr>
    <tr><td valign=top><em>sz</em>&nbsp;</td><td>size of <code>str</code> </td></tr>
    <tr><td valign=top><em>sep</em>&nbsp;</td><td>path separator to use ('/' or '\') </td></tr>
    <tr><td valign=top><em>fmt</em>&nbsp;</td><td>snprintf format string</td></tr>
  </table>
</dl>
Returns <code>0</code> on success, not-zero on error. 
<p>
Definition at line <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00340">340</a> of file <a class="el" href="srcs_2toolbox_2misc_8c-source.html">srcs/toolbox/misc.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga20" doxytag="srcs/toolbox/misc.c::u_read" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ssize_t u_read </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>fd</em>&nbsp;</td><td>file descriptor </td></tr>
    <tr><td valign=top><em>buf</em>&nbsp;</td><td>buffer to read into </td></tr>
    <tr><td valign=top><em>size</em>&nbsp;</td><td>size of the buffer</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>on</code> success returns the number of bytes read (that will be always 'size' except on eof); on failure returns -1 </dd></dl>

<p>
Definition at line <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00541">541</a> of file <a class="el" href="srcs_2toolbox_2misc_8c-source.html">srcs/toolbox/misc.c</a>.
<p>
References <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00466">u_io()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga19" doxytag="srcs/toolbox/misc.c::u_sleep" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_sleep </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>secs</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>secs</em>&nbsp;</td><td>sleep for 'secs' seconds</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>on success returns the socket descriptor; on failure returns -1 </dd></dl>

<p>
Definition at line <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00513">513</a> of file <a class="el" href="srcs_2toolbox_2misc_8c-source.html">srcs/toolbox/misc.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga12" doxytag="srcs/toolbox/misc.c::u_snprintf" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_snprintf </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>...&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
snprintf-like function that returns 0 on success and ~0 on error<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>str</em>&nbsp;</td><td>destination buffer </td></tr>
    <tr><td valign=top><em>size</em>&nbsp;</td><td>size of <code>str</code> </td></tr>
    <tr><td valign=top><em>fmt</em>&nbsp;</td><td>snprintf format string</td></tr>
  </table>
</dl>
Returns <code>0</code> on success, not-zero on error. 
<p>
Definition at line <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00309">309</a> of file <a class="el" href="srcs_2toolbox_2misc_8c-source.html">srcs/toolbox/misc.c</a>.
<p>
Referenced by <a class="el" href="srcs_2toolbox_2hmap_8c-source.html#l00638">u_hmap_put()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="srcs/toolbox/misc.c::u_strtok" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_strtok </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>delim</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char ***&nbsp;</td>
          <td class="mdname" nowrap> <em>ptv</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>pnelems</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tokenize the <code>delim</code> separated string <code>s</code> and place its <code>*pnelems</code> pieces into the string array <code>*ptv</code>. The <code>*ptv</code> result argument contains all the pieces at increasing indices [0..<code>*pnelems-1</code>] in the order they've been found in string <code>s</code>. At index <code>*pnelems</code> - i.e. <code>*ptv</code>[<code>*pnelems</code>] - the pointer to a (clobbered) duplicate of <code>s</code> is stored, which must be free'd along with the string array result <code>*ptv</code> once the caller is done with it:<p>
<pre class="fragment"><div>      size_t nelems, i;
      <span class="keywordtype">char</span> **tv = NULL;
          
      <span class="comment">// break string into pieces</span>
      dbg_err_if (<a class="code" href="group__misc.html#ga25">u_strtok</a>(<span class="stringliteral">"white spaces separated s"</span>, <span class="stringliteral">" "</span>, &amp;tv, &amp;nelems));

      <span class="comment">// use found tokens</span>
      <span class="keywordflow">for</span> (i = 0; i &lt; nelems; i++)
          con(<span class="stringliteral">"%s"</span>, tv[i]);

      <span class="comment">// free memory</span>
      <a class="code" href="group__misc.html#ga26">u_strtok_cleanup</a>(tv, nelems);
</div></pre><p>
The aforementioned disposal must be carried out every time the function returns successfully, even if the number of found tokens is zero (i.e. <code>s</code> contains separator chars only, or is an empty string).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>s</em>&nbsp;</td><td>the string that shall be broken up </td></tr>
    <tr><td valign=top><em>delim</em>&nbsp;</td><td>the set of allowed delimiters as a string </td></tr>
    <tr><td valign=top><em>ptv</em>&nbsp;</td><td>the pieces as a result string array </td></tr>
    <tr><td valign=top><em>pnelems</em>&nbsp;</td><td>the number of tokens actually separated</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, <code>~0</code> on error. </dd></dl>

<p>
Definition at line <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00178">178</a> of file <a class="el" href="srcs_2toolbox_2misc_8c-source.html">srcs/toolbox/misc.c</a>.
<p>
References <a class="el" href="memory_8c-source.html#l00067">u_realloc()</a>, and <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00093">u_strdup()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="srcs/toolbox/misc.c::u_strtok_cleanup" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void u_strtok_cleanup </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char **&nbsp;</td>
          <td class="mdname" nowrap> <em>tv</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>nelems</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tv</em>&nbsp;</td><td>the strings vector created by a previous call to u_strtok </td></tr>
    <tr><td valign=top><em>nelems</em>&nbsp;</td><td>number of elements in tv (as returned by u_strtok)</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>
Definition at line <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00245">245</a> of file <a class="el" href="srcs_2toolbox_2misc_8c-source.html">srcs/toolbox/misc.c</a>.
<p>
References <a class="el" href="memory_8c-source.html#l00073">u_free()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga11" doxytag="srcs/toolbox/misc.c::u_tokenize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_tokenize </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>wlist</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>delim</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap> <em>tokv</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>tokv_sz</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tokenize the <code>delim</code> separated string <code>wlist</code> and place its pieces (at most <code>tokv_sz</code> - 1) into <code>tokv</code>. DEPRECATED: use u_strtok instead<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>wlist</em>&nbsp;</td><td>list of strings possibily separated by chars in <code>delim</code> </td></tr>
    <tr><td valign=top><em>delim</em>&nbsp;</td><td>set of token separators </td></tr>
    <tr><td valign=top><em>tokv</em>&nbsp;</td><td>pre-allocated string array </td></tr>
    <tr><td valign=top><em>tokv_sz</em>&nbsp;</td><td>number of cells in <code>tokv</code> array</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, <code>~0</code> on error. </dd></dl>

<p>
Definition at line <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00270">270</a> of file <a class="el" href="srcs_2toolbox_2misc_8c-source.html">srcs/toolbox/misc.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga21" doxytag="srcs/toolbox/misc.c::u_write" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ssize_t u_write </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>fd</em>&nbsp;</td><td>file descriptor </td></tr>
    <tr><td valign=top><em>buf</em>&nbsp;</td><td>buffer to write </td></tr>
    <tr><td valign=top><em>size</em>&nbsp;</td><td>size of the buffer</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>size</code> on success, -1 on error </dd></dl>

<p>
Definition at line <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00566">566</a> of file <a class="el" href="srcs_2toolbox_2misc_8c-source.html">srcs/toolbox/misc.c</a>.
<p>
References <a class="el" href="srcs_2toolbox_2misc_8c-source.html#l00466">u_io()</a>.    </td>
  </tr>
</table>
<hr>
<div>
  <div style="text-align:left">
    <a href="http://www.koanlogic.com/kl/cont/gb/html/products.html">&larr;Products</a>
  </div>
  <div style="text-align:center;">
    &copy; 2005-2008 - <a href="http://www.koanlogic.com">KoanLogic S.r.l.</a> - All rights reserved
  </div>
</div>

</body>
</html>
