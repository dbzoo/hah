<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LibU: Configuration</title>
<link href="kl.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a></div>
<h1>Configuration</h1><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga5">u_config_sort_children</a> (u_config_t *c, int(*config_cmp)(u_config_t **, u_config_t **))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sort config children.  <a href="#ga5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga6">u_config_print_to_fp</a> (u_config_t *c, FILE *fp, int lev)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print configuration to the given file descriptor.  <a href="#ga6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga7">u_config_print</a> (u_config_t *c, int lev)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print configuration to <code>stdout</code>.  <a href="#ga7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga21">u_config_load_from</a> (u_config_t *c, u_config_gets_t cb, void *arg, int overwrite)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load from an opaque data source.  <a href="#ga21"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga22">u_config_load</a> (u_config_t *c, int fd, int overwrite)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load a configuration file.  <a href="#ga22"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga23">u_config_load_from_file</a> (const char *file, u_config_t **pc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a configuration object reading from a config file.  <a href="#ga23"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga24">u_config_create</a> (u_config_t **pc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a config object.  <a href="#ga24"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga25">u_config_del_child</a> (u_config_t *c, u_config_t *child)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a child (and all its sub-children) from a config object.  <a href="#ga25"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga26">u_config_free</a> (u_config_t *c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free a config object and all its children.  <a href="#ga26"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga27">u_config_get_key</a> (u_config_t *c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the key of a config object.  <a href="#ga27"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga28">u_config_get_value</a> (u_config_t *c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the value of a config object.  <a href="#ga28"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga29">u_config_get_subkey_value</a> (u_config_t *c, const char *subkey)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the value of a subkey.  <a href="#ga29"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga30">u_config_get_subkey_value_i</a> (u_config_t *c, const char *subkey, int def, int *out)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the value of an integer subkey.  <a href="#ga30"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__config.html#ga31">u_config_get_subkey_value_b</a> (u_config_t *c, const char *subkey, int def, int *out)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the value of an bool subkey.  <a href="#ga31"></a><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl compact><dt><b>Intro</b></dt><dd>The u_config_t object is used to store, load and parse text configuration files. <br>
 A configuration file is a plain text file that stores a list of key=values pair in a tree-ordered structure. TODO </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga24" doxytag="config.c::u_config_create" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_config_create </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t **&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a config object. Use u_config_set_key(...) to set its key/value pairs.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pc</em>&nbsp;</td><td>value-result that will get the new configuration object</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, not-zero on error. </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00656">656</a> of file <a class="el" href="config_8c-source.html">config.c</a>.
<p>
References <a class="el" href="config_8c-source.html#l00711">u_config_free()</a>, and <a class="el" href="memory_8c-source.html#l00061">u_zalloc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga25" doxytag="config.c::u_config_del_child" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_config_del_child </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>u_config_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>child</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remove a child and all its sub-children from a config object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object </td></tr>
    <tr><td valign=top><em>child</em>&nbsp;</td><td>child to remove</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, not zero on failure </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00684">684</a> of file <a class="el" href="config_8c-source.html">config.c</a>.
<p>
References <a class="el" href="config_8c-source.html#l00711">u_config_free()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga26" doxytag="config.c::u_config_free" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_config_free </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>c</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Free a config object and all its children.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, not zero on failure </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00711">711</a> of file <a class="el" href="config_8c-source.html">config.c</a>.
<p>
Referenced by <a class="el" href="config_8c-source.html#l00656">u_config_create()</a>, and <a class="el" href="config_8c-source.html#l00684">u_config_del_child()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga27" doxytag="config.c::u_config_get_key" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* u_config_get_key </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>c</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the key string of a config object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The key string pointer on success, <code>NULL</code> on failure </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00743">743</a> of file <a class="el" href="config_8c-source.html">config.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga29" doxytag="config.c::u_config_get_subkey_value" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* u_config_get_subkey_value </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>subkey</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the value of the child config object whose key is <code>subkey</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object </td></tr>
    <tr><td valign=top><em>subkey</em>&nbsp;</td><td>the key value of the child config object</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The value string pointer on success, <code>NULL</code> on failure </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00780">780</a> of file <a class="el" href="config_8c-source.html">config.c</a>.
<p>
References <a class="el" href="config_8c-source.html#l00761">u_config_get_value()</a>.
<p>
Referenced by <a class="el" href="config_8c-source.html#l00842">u_config_get_subkey_value_b()</a>, and <a class="el" href="config_8c-source.html#l00804">u_config_get_subkey_value_i()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga31" doxytag="config.c::u_config_get_subkey_value_b" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_config_get_subkey_value_b </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>subkey</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>def</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>out</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the bool value of the child config object whose key is <code>subkey</code>.<p>
Recognized bool values are (case insensitive) yes/no, 1/0, enable/disable.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object </td></tr>
    <tr><td valign=top><em>subkey</em>&nbsp;</td><td>the key value of the child config object </td></tr>
    <tr><td valign=top><em>def</em>&nbsp;</td><td>the value to return if the key is missing </td></tr>
    <tr><td valign=top><em>out</em>&nbsp;</td><td>on exit will get the bool value of the key</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, not zero if the key value is not a bool keyword </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00842">842</a> of file <a class="el" href="config_8c-source.html">config.c</a>.
<p>
References <a class="el" href="config_8c-source.html#l00780">u_config_get_subkey_value()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga30" doxytag="config.c::u_config_get_subkey_value_i" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_config_get_subkey_value_i </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>subkey</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>def</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>out</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the integer value (atoi is used for conversion) of the child config object whose key is <code>subkey</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object </td></tr>
    <tr><td valign=top><em>subkey</em>&nbsp;</td><td>the key value of the child config object </td></tr>
    <tr><td valign=top><em>def</em>&nbsp;</td><td>the value to return if the key is missing </td></tr>
    <tr><td valign=top><em>out</em>&nbsp;</td><td>on exit will get the integer value of the key</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, not zero if the key value is not an int </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00804">804</a> of file <a class="el" href="config_8c-source.html">config.c</a>.
<p>
References <a class="el" href="config_8c-source.html#l00780">u_config_get_subkey_value()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga28" doxytag="config.c::u_config_get_value" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* u_config_get_value </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>c</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the value string of a config object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The value string pointer on success, <code>NULL</code> on failure </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00761">761</a> of file <a class="el" href="config_8c-source.html">config.c</a>.
<p>
Referenced by <a class="el" href="config_8c-source.html#l00780">u_config_get_subkey_value()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga22" doxytag="config.c::u_config_load" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_config_load </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>overwrite</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fill a config object with key/value pairs loaded from the configuration file linked to the descriptor <code>fd</code>. If <code>overwrite</code> is not zero values of keys with the same name will overwrite previous values otherwise new keys with the same name will be added.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object </td></tr>
    <tr><td valign=top><em>fd</em>&nbsp;</td><td>file descriptor </td></tr>
    <tr><td valign=top><em>overwrite</em>&nbsp;</td><td>if 1 overwrite keys with the same name otherwise new key with the same name will be added</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, not-zero on error. </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00606">606</a> of file <a class="el" href="config_8c-source.html">config.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga21" doxytag="config.c::u_config_load_from" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_config_load_from </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>u_config_gets_t&nbsp;</td>
          <td class="mdname" nowrap> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>overwrite</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Load configuration data from a data source; a gets()-like function must be provided by the caller to read the configuration line-by-line.<p>
Using this interface is not possibile to use the 'include' command; use u_config_load_from_file or u_config_load_from_drv instead.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object </td></tr>
    <tr><td valign=top><em>cb</em>&nbsp;</td><td>gets()-like callback </td></tr>
    <tr><td valign=top><em>arg</em>&nbsp;</td><td>opaque argument passed to the 'cb' function </td></tr>
    <tr><td valign=top><em>overwrite</em>&nbsp;</td><td>if 1 overwrite keys with the same name otherwise new </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00579">579</a> of file <a class="el" href="config_8c-source.html">config.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga23" doxytag="config.c::u_config_load_from_file" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_config_load_from_file </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>u_config_t **&nbsp;</td>
          <td class="mdname" nowrap> <em>pc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a configuration object reading from a config file<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>file</em>&nbsp;</td><td>file descriptor </td></tr>
    <tr><td valign=top><em>pc</em>&nbsp;</td><td>value-result that will get the new configuration object</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, not-zero on error. </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00634">634</a> of file <a class="el" href="config_8c-source.html">config.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="config.c::u_config_print" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void u_config_print </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>lev</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Print a configuration object and its children to <code>stdout</code>. For each config object all keys/values pair will be printed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object </td></tr>
    <tr><td valign=top><em>lev</em>&nbsp;</td><td>nesting level; must be zero</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, not zero on failure </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00146">146</a> of file <a class="el" href="config_8c-source.html">config.c</a>.
<p>
References <a class="el" href="config_8c-source.html#l00119">u_config_print_to_fp()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="config.c::u_config_print_to_fp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void u_config_print_to_fp </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>fp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>lev</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Print a configuration object and its children to <code>fp</code>. For each config object all keys/values pair will be printed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object </td></tr>
    <tr><td valign=top><em>fp</em>&nbsp;</td><td>output file descriptor </td></tr>
    <tr><td valign=top><em>lev</em>&nbsp;</td><td>nesting level; must be zero</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, not zero on failure </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00119">119</a> of file <a class="el" href="config_8c-source.html">config.c</a>.
<p>
Referenced by <a class="el" href="config_8c-source.html#l00146">u_config_print()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="config.c::u_config_sort_children" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_config_sort_children </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_config_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int(*&nbsp;</td>
          <td class="mdname" nowrap> <em>config_cmp</em>)(u_config_t **, u_config_t **)</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sort config children using the given comparison function.<p>
The comparison function must return an integer less than, equal to, or greater than zero if the first argument is considered to be respectively less than, equal to, or greater than the second.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>configuration object </td></tr>
    <tr><td valign=top><em>config_cmp</em>&nbsp;</td><td>comparison function</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, not zero on failure </dd></dl>

<p>
Definition at line <a class="el" href="config_8c-source.html#l00065">65</a> of file <a class="el" href="config_8c-source.html">config.c</a>.
<p>
References <a class="el" href="memory_8c-source.html#l00073">u_free()</a>, and <a class="el" href="memory_8c-source.html#l00061">u_zalloc()</a>.    </td>
  </tr>
</table>
<hr>
<div>
  <div style="text-align:left">
    <a href="http://www.koanlogic.com/kl/cont/gb/html/products.html">&larr;Products</a>
  </div>
  <div style="text-align:center;">
    &copy; 2005-2008 - <a href="http://www.koanlogic.com">KoanLogic S.r.l.</a> - All rights reserved
  </div>
</div>

</body>
</html>
