<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LibU: Logging</title>
<link href="kl.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a></div>
<h1>Logging</h1><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga10">u_log_die</a>(ecode, <a class="el" href="group__log.html#ga0">facility</a>, flags, err,)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log an error message and die  <a href="#ga10"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga11">u_log_emerg</a>(<a class="el" href="group__log.html#ga0">facility</a>, flags, err,)&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_EMERG, flags, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log an emerg message  <a href="#ga11"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga12">u_log_alert</a>(<a class="el" href="group__log.html#ga0">facility</a>, flags, err,)&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_ALERT, flags, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log an alert message  <a href="#ga12"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga13">u_log_critical</a>(<a class="el" href="group__log.html#ga0">facility</a>, flags, err,)&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_CRIT, flags, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log a critical message  <a href="#ga13"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga14">u_log_error</a>(<a class="el" href="group__log.html#ga0">facility</a>, flags, err,)&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_ERR, flags, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log an error message  <a href="#ga14"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga15">u_log_warning</a>(<a class="el" href="group__log.html#ga0">facility</a>, flags, err,)&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_WARNING, flags, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log a warning message  <a href="#ga15"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga16">u_log_notice</a>(<a class="el" href="group__log.html#ga0">facility</a>, flags, err,)&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_NOTICE, flags, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log a notice message  <a href="#ga16"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga17">u_log_info</a>(<a class="el" href="group__log.html#ga0">facility</a>, flags, err,)&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_INFO, flags, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log an informational message  <a href="#ga17"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga18">u_log_debug</a>(<a class="el" href="group__log.html#ga0">facility</a>, flags, err,)&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_DEBUG, flags, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log a debug message  <a href="#ga18"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga19" doxytag="log::die" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga19">die</a>(ecode,)&nbsp;&nbsp;&nbsp;u_log_die(ecode, <a class="el" href="group__log.html#ga0">facility</a>, 1, 0, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">same as u_log_die but using the <em>facility</em> global variable <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga20" doxytag="log::die_if" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga20">die_if</a>(expr)&nbsp;&nbsp;&nbsp;if(expr) die(EXIT_FAILURE, #expr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calls <a class="el" href="group__log.html#ga19">die()</a> if <em>expr</em> is true <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga21" doxytag="log::emerg_" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga21">emerg_</a>(err,)&nbsp;&nbsp;&nbsp;u_log_emerg(<a class="el" href="group__log.html#ga0">facility</a>, 1, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">same as u_log_emerg but using the facility global variable <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga22" doxytag="log::alert_" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga22">alert_</a>(err,)&nbsp;&nbsp;&nbsp;u_log_alert(<a class="el" href="group__log.html#ga0">facility</a>, 1, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">same as u_log_alert but using the facility global variable <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga23" doxytag="log::crit_" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga23">crit_</a>(err,)&nbsp;&nbsp;&nbsp;u_log_critical(<a class="el" href="group__log.html#ga0">facility</a>, 1, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">same as u_log_critical but using the facility global variable <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga24" doxytag="log::err_" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga24">err_</a>(err,)&nbsp;&nbsp;&nbsp;u_log_error(<a class="el" href="group__log.html#ga0">facility</a>, 1, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">same as u_log_error but using the facility global variable <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga25" doxytag="log::warn_" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga25">warn_</a>(err,)&nbsp;&nbsp;&nbsp;u_log_warning(<a class="el" href="group__log.html#ga0">facility</a>, 1, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">same as u_log_warning but using the facility global variable <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga26" doxytag="log::notice_" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga26">notice_</a>(err,)&nbsp;&nbsp;&nbsp;u_log_notice(<a class="el" href="group__log.html#ga0">facility</a>, 1, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">same as u_log_info but using the facility global variable <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga27" doxytag="log::info_" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga27">info_</a>(err,)&nbsp;&nbsp;&nbsp;u_log_info(<a class="el" href="group__log.html#ga0">facility</a>, 0, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">same as u_log_info but using the facility global variable <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga28" doxytag="log::dbg_" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga28">dbg_</a>(err,)&nbsp;&nbsp;&nbsp;u_log_debug(<a class="el" href="group__log.html#ga0">facility</a>, 1, err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">same as u_log_debug but using the facility global variable <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga29" doxytag="log::con_" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga29">con_</a>(err,)&nbsp;&nbsp;&nbsp;u_console_write( err, __VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write a log message to stderr <br><br></td></tr>
<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga1" doxytag="log::u_log_hook_t" ></a>
typedef int(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga1">u_log_hook_t</a> )(void *arg, int level, const char *str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">log hook typedef <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga2" doxytag="log::u_log_lock_t" ></a>
typedef int(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga2">u_log_lock_t</a> )(void *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">thread lock callback typedef <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="ga3" doxytag="log::u_log_unlock_t" ></a>
typedef int(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga3">u_log_unlock_t</a> )(void *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">thread unlock callback typedef <br><br></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga6">u_log_set_lock</a> (<a class="el" href="group__log.html#ga2">u_log_lock_t</a> f, void *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set the lock function callback  <a href="#ga6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga7">u_log_set_unlock</a> (<a class="el" href="group__log.html#ga3">u_log_unlock_t</a> f, void *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set the unlock function callback  <a href="#ga7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga8">u_log_set_hook</a> (<a class="el" href="group__log.html#ga1">u_log_hook_t</a> hook, void *arg, <a class="el" href="group__log.html#ga1">u_log_hook_t</a> *old, void **parg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set a log hook to redirect log messages  <a href="#ga8"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga9">u_strerror_r</a> (int err, char *buf, size_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return, in the given buffer, a string describing the error code.  <a href="#ga9"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga0">facility</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">per-process facility variable.  <a href="#ga0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga4">facility</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">per-process facility variable.  <a href="#ga4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__log.html#ga5">facility</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">per-process facility variable.  <a href="#ga5"></a><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl compact><dt><b>Logging levels</b></dt><dd></dd></dl>
<ul>
<li>LOG_ERR </li>
<li>LOG_WARNING </li>
<li>LOG_INFO </li>
<li>LOG_DEBUG</li>
</ul>
<dl compact><dt><b>NOTE</b></dt><dd>All functions that not contain the [facility] parameter reference a variable named "facility" that <b>must</b> be defined somewhere and must be in scope.</dd></dl>
<dl compact><dt><b>Common parameters</b></dt><dd></dd></dl>
<ul>
<li><code>facility</code>: logging facility (see syslog(3)) </li>
<li><code>flags</code>: OR-ed LOG_WRITE_FLAG_* flags </li>
<li><code>args</code>: printf-style variable argument lists </li>
<li><code>expr</code>: C expression to evaluate </li>
<li><code>err</code>: function return code </li>
<li><code>gt</code>: goto label </li>
<li><code>ecode</code>: process exit code </li>
</ul>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="ga12" doxytag="log.h::u_log_alert" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define u_log_alert</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga0">facility</a>,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>err&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_ALERT, flags, err, __VA_ARGS__)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write an alert log message.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>facility</em>&nbsp;</td><td>facility </td></tr>
    <tr><td valign=top><em>flags</em>&nbsp;</td><td>OR-ed LOG_WRITE_FLAG_* flags </td></tr>
    <tr><td valign=top><em>err</em>&nbsp;</td><td>if set append strerror(err) to the message </td></tr>
    <tr><td valign=top><em>...</em>&nbsp;</td><td>printf-style variable length arguments list </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="log_8h-source.html#l00164">164</a> of file <a class="el" href="log_8h-source.html">log.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga13" doxytag="log.h::u_log_critical" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define u_log_critical</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga0">facility</a>,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>err&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_CRIT, flags, err, __VA_ARGS__)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a critical log message.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>facility</em>&nbsp;</td><td>facility </td></tr>
    <tr><td valign=top><em>flags</em>&nbsp;</td><td>OR-ed LOG_WRITE_FLAG_* flags </td></tr>
    <tr><td valign=top><em>err</em>&nbsp;</td><td>if set append strerror(err) to the message </td></tr>
    <tr><td valign=top><em>...</em>&nbsp;</td><td>printf-style variable length arguments list </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="log_8h-source.html#l00176">176</a> of file <a class="el" href="log_8h-source.html">log.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga18" doxytag="log.h::u_log_debug" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define u_log_debug</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga0">facility</a>,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>err&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_DEBUG, flags, err, __VA_ARGS__)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a debug log message.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>facility</em>&nbsp;</td><td>facility </td></tr>
    <tr><td valign=top><em>flags</em>&nbsp;</td><td>OR-ed LOG_WRITE_FLAG_* flags </td></tr>
    <tr><td valign=top><em>err</em>&nbsp;</td><td>if set append strerror(err) to the message </td></tr>
    <tr><td valign=top><em>...</em>&nbsp;</td><td>printf-style variable length arguments list </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="log_8h-source.html#l00236">236</a> of file <a class="el" href="log_8h-source.html">log.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="log.h::u_log_die" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define u_log_die</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ecode,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="group__log.html#ga0">facility</a>,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>err&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre><span class="keywordflow">do</span> {                                                        \
        u_log_write(facility, LOG_CRIT, flags, err, __VA_ARGS__); \
        exit(ecode);                                            \
    } <span class="keywordflow">while</span>(0)
</pre></div>Write an error log message and die.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>ecode</em>&nbsp;</td><td>exit code </td></tr>
    <tr><td valign=top><em>facility</em>&nbsp;</td><td>facility </td></tr>
    <tr><td valign=top><em>flags</em>&nbsp;</td><td>OR-ed LOG_WRITE_FLAG_* flags </td></tr>
    <tr><td valign=top><em>err</em>&nbsp;</td><td>if set append strerror(err) to the message </td></tr>
    <tr><td valign=top><em>...</em>&nbsp;</td><td>printf-style variable length arguments list </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="log_8h-source.html#l00137">137</a> of file <a class="el" href="log_8h-source.html">log.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga11" doxytag="log.h::u_log_emerg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define u_log_emerg</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga0">facility</a>,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>err&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_EMERG, flags, err, __VA_ARGS__)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write an emerg log message.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>facility</em>&nbsp;</td><td>facility </td></tr>
    <tr><td valign=top><em>flags</em>&nbsp;</td><td>OR-ed LOG_WRITE_FLAG_* flags </td></tr>
    <tr><td valign=top><em>err</em>&nbsp;</td><td>if set append strerror(err) to the message </td></tr>
    <tr><td valign=top><em>...</em>&nbsp;</td><td>printf-style variable length arguments list </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="log_8h-source.html#l00152">152</a> of file <a class="el" href="log_8h-source.html">log.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga14" doxytag="log.h::u_log_error" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define u_log_error</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga0">facility</a>,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>err&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_ERR, flags, err, __VA_ARGS__)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write an error log message.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>facility</em>&nbsp;</td><td>facility </td></tr>
    <tr><td valign=top><em>flags</em>&nbsp;</td><td>OR-ed LOG_WRITE_FLAG_* flags </td></tr>
    <tr><td valign=top><em>err</em>&nbsp;</td><td>if set append strerror(err) to the message </td></tr>
    <tr><td valign=top><em>...</em>&nbsp;</td><td>printf-style variable length arguments list </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="log_8h-source.html#l00188">188</a> of file <a class="el" href="log_8h-source.html">log.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga17" doxytag="log.h::u_log_info" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define u_log_info</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga0">facility</a>,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>err&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_INFO, flags, err, __VA_ARGS__)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write an informational log message.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>facility</em>&nbsp;</td><td>facility </td></tr>
    <tr><td valign=top><em>flags</em>&nbsp;</td><td>OR-ed LOG_WRITE_FLAG_* flags </td></tr>
    <tr><td valign=top><em>err</em>&nbsp;</td><td>if set append strerror(err) to the message </td></tr>
    <tr><td valign=top><em>...</em>&nbsp;</td><td>printf-style variable length arguments list </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="log_8h-source.html#l00224">224</a> of file <a class="el" href="log_8h-source.html">log.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga16" doxytag="log.h::u_log_notice" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define u_log_notice</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga0">facility</a>,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>err&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_NOTICE, flags, err, __VA_ARGS__)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a notice log message.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>facility</em>&nbsp;</td><td>facility </td></tr>
    <tr><td valign=top><em>flags</em>&nbsp;</td><td>OR-ed LOG_WRITE_FLAG_* flags </td></tr>
    <tr><td valign=top><em>err</em>&nbsp;</td><td>if set append strerror(err) to the message </td></tr>
    <tr><td valign=top><em>...</em>&nbsp;</td><td>printf-style variable length arguments list </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="log_8h-source.html#l00212">212</a> of file <a class="el" href="log_8h-source.html">log.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga15" doxytag="log.h::u_log_warning" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define u_log_warning</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga0">facility</a>,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>err&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;u_log_write(<a class="el" href="group__log.html#ga0">facility</a>, LOG_WARNING, flags, err, __VA_ARGS__)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a warning log message.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>facility</em>&nbsp;</td><td>facility </td></tr>
    <tr><td valign=top><em>flags</em>&nbsp;</td><td>OR-ed LOG_WRITE_FLAG_* flags </td></tr>
    <tr><td valign=top><em>err</em>&nbsp;</td><td>if set append strerror(err) to the message </td></tr>
    <tr><td valign=top><em>...</em>&nbsp;</td><td>printf-style variable length arguments list </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="log_8h-source.html#l00200">200</a> of file <a class="el" href="log_8h-source.html">log.h</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga8" doxytag="log.h::u_log_set_hook" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_log_set_hook </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga1">u_log_hook_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>hook</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>arg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="group__log.html#ga1">u_log_hook_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>old</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void **&nbsp;</td>
          <td class="mdname" nowrap> <em>parg</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Force the log subsystem to use user-provided function to write log messages.<p>
The provided function will be called for each dbg_, warn_ or info_ calls.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>hook</em>&nbsp;</td><td>function that will be called to write log messages set this param to NULL to set the default syslog-logging </td></tr>
    <tr><td valign=top><em>arg</em>&nbsp;</td><td>an opaque argument that will be passed to the hook function </td></tr>
    <tr><td valign=top><em>old</em>&nbsp;</td><td>[out] will get the previously set hook or NULL if no hook has been set </td></tr>
    <tr><td valign=top><em>parg</em>&nbsp;</td><td>[out] will get the previously set hook argument</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, not zero on error </dd></dl>

<p>
Definition at line <a class="el" href="log_8c-source.html#l00131">131</a> of file <a class="el" href="log_8c-source.html">log.c</a>.
<p>
References <a class="el" href="log_8h-source.html#l00068">u_log_hook_t</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="log.h::u_log_set_lock" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_log_set_lock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga2">u_log_lock_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>arg</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the lock function used by the log subsystem to work properly in multi-thread environments (you must also set the unlock function).<p>
The lock primitive must allow recursive locking i.e. the thread that owns the lock can call the lock function more times without blocking (it must call the unlock function the same number of times).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>f</em>&nbsp;</td><td>function that will be called to get the lock </td></tr>
    <tr><td valign=top><em>arg</em>&nbsp;</td><td>an opaque argument that will be passed to the lock function</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, not zero on error </dd></dl>

<p>
Definition at line <a class="el" href="log_8c-source.html#l00047">47</a> of file <a class="el" href="log_8c-source.html">log.c</a>.
<p>
References <a class="el" href="log_8h-source.html#l00071">u_log_lock_t</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="log.h::u_log_set_unlock" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_log_set_unlock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__log.html#ga3">u_log_unlock_t</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>arg</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the unlock function used by the log subsystem to work properly in multi-thread environments (you must also set the lock function);<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>f</em>&nbsp;</td><td>function that will be called to release the lock </td></tr>
    <tr><td valign=top><em>arg</em>&nbsp;</td><td>an opaque argument that will be passed to the lock function</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, not zero on error </dd></dl>

<p>
Definition at line <a class="el" href="log_8c-source.html#l00055">55</a> of file <a class="el" href="log_8c-source.html">log.c</a>.
<p>
References <a class="el" href="log_8h-source.html#l00074">u_log_unlock_t</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="log.h::u_strerror_r" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int u_strerror_r </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return in 'msg' a string describing the error code. Works equally with POSIX-style C libs and with glibc (that use a different prototype for strerror_r).<p>
If strerror_r doesn't exist in the system strerror() is used instead.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>err</em>&nbsp;</td><td>the error code </td></tr>
    <tr><td valign=top><em>buf</em>&nbsp;</td><td>the buffer that will get the error message </td></tr>
    <tr><td valign=top><em>size</em>&nbsp;</td><td>size of buf</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><code>0</code> on success, <code>~0</code> on error </dd></dl>

<p>
Definition at line <a class="el" href="log_8c-source.html#l00236">236</a> of file <a class="el" href="log_8c-source.html">log.c</a>.    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="ga5" doxytag="log.c::facility" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int <a class="el" href="group__log.html#ga0">facility</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
all processes that use the libu must define a "facility" variable somewhere to satisfy this external linkage reference.<p>
Such variable will be used as the syslog(3) facility argument. 
<p>
Definition at line <a class="el" href="log_8c-source.html#l00023">23</a> of file <a class="el" href="log_8c-source.html">log.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="facility.c::facility" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int <a class="el" href="group__log.html#ga0">facility</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
all processes that use the libu must define a "facility" variable somewhere to satisfy this external linkage reference.<p>
Such variable will be used as the syslog(3) facility argument. 
<p>
Definition at line <a class="el" href="facility_8c-source.html#l00001">1</a> of file <a class="el" href="facility_8c-source.html">facility.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="log.h::facility" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int <a class="el" href="group__log.html#ga0">facility</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
all processes that use the libu must define a "facility" variable somewhere to satisfy this external linkage reference.<p>
Such variable will be used as the syslog(3) facility argument. 
<p>
Definition at line <a class="el" href="log_8h-source.html#l00065">65</a> of file <a class="el" href="log_8h-source.html">log.h</a>.    </td>
  </tr>
</table>
<hr>
<div>
  <div style="text-align:left">
    <a href="http://www.koanlogic.com/kl/cont/gb/html/products.html">&larr;Products</a>
  </div>
  <div style="text-align:center;">
    &copy; 2005-2008 - <a href="http://www.koanlogic.com">KoanLogic S.r.l.</a> - All rights reserved
  </div>
</div>

</body>
</html>
