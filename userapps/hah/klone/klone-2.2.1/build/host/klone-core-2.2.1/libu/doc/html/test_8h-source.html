<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LibU: test.h Source File</title>
<link href="kl.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a></div>
<h1>test.h</h1><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef _LIBU_TEST_H_</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _LIBU_TEST_H_</span>
00003 <span class="preprocessor"></span><span class="preprocessor">#include &lt;u/libu.h&gt;</span>
00004 
<a name="l00087"></a><a class="code" href="group__test.html#ga10">00087</a> <span class="preprocessor">#define U_TEST_MODULE( name ) \</span>
00088 <span class="preprocessor">    int u_test_run_ ## name (void)</span>
00089 <span class="preprocessor"></span>
<a name="l00098"></a><a class="code" href="group__test.html#ga11">00098</a> <span class="preprocessor">#define U_TEST_RUN( f ) \</span>
00099 <span class="preprocessor">    if( f () ) { _test_cnt++; _test_fail++; con("%s: failed", #f); } \</span>
00100 <span class="preprocessor">    else { _test_cnt++; _test_ok++; if(_verbose) con("%s: ok", #f); }</span>
00101 <span class="preprocessor"></span>
00102 
<a name="l00110"></a><a class="code" href="group__test.html#ga12">00110</a> <span class="preprocessor">#define U_TEST_MODULE_USE( name ) \</span>
00111 <span class="preprocessor">    do {    \</span>
00112 <span class="preprocessor">        int u_test_run_ ## name (void); \</span>
00113 <span class="preprocessor">        *_top = u_test_run_ ## name; ++_top; *_top = NULL; \</span>
00114 <span class="preprocessor">        *_top_nm = u_strdup( #name ); ++_top_nm; *_top_nm = NULL; \</span>
00115 <span class="preprocessor">    } while(0)</span>
00116 <span class="preprocessor"></span>
00127 <span class="keywordtype">int</span> <a class="code" href="group__test.html#ga14">u_test_run</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv);
00128 
00130 <span class="keyword">typedef</span> int (*test_runner_t)(<span class="keywordtype">void</span>);
00132 <span class="keyword">extern</span> test_runner_t _mods[], *_top;
00134 <span class="keyword">extern</span> <span class="keywordtype">char</span> *_mods_nm[], **_top_nm;
00136 <span class="keyword">extern</span> <span class="keywordtype">int</span> _test_cnt, _test_ok, _test_fail;
00138 <span class="keyword">extern</span> <span class="keywordtype">int</span> _verbose;
00139 
00144 <span class="preprocessor">#endif</span>
</pre></div><hr>
<div>
  <div style="text-align:left">
    <a href="http://www.koanlogic.com/kl/cont/gb/html/products.html">&larr;Products</a>
  </div>
  <div style="text-align:center;">
    &copy; 2005-2008 - <a href="http://www.koanlogic.com">KoanLogic S.r.l.</a> - All rights reserved
  </div>
</div>

</body>
</html>
